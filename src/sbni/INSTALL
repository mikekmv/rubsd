Драйвер модема для выделенных линий SBNI 12-xx для OpenBSD.
Данный драйвер поддерживает модели SBNI 12-02/04/05/10/11 ISA и
PCI (не проверено). Драйвер был протестирован в OpenBSD 2.8, 2.9 и 3.0.

Для установки драйвера требуются исходные тексты ядра.

1. Распакуйте исходные тексты драйвера в какой-нибудь временный каталог
   (скорее всего это уже сделано раз вы читаете данный документ :)

2. Установите программу конфигурирования драйвера:

	make depend
	make
	make install

3. Установите драйвер в системе:

	make install-driver

4. Отредактируйте файл конфигурации ядра, добавив нужные строчки для
   драйвера SBNI:

	sbni0 at isa? port 0x210 irq 5 flags 0xcec0ffee
	sbni* at pci? dev ? function ?

   Значения битов параметра flags:
	бит  31:	если установлен, будет установлена скорость,
			указанная в битах 28-29, иначе будет установлена
			скорость по умолчанию (2000 kbit/s (500 для медленного
			режима)).
	бит  30:	если установлен, будет установлен уровень приема,
			указанный в битах 24-27, иначе уровень будет
			определяться автоматически.
	биты 28 - 29	скорость (в скобках указана скорость для медленного
			режима):
				00 - 2000 kbit/s (500 kbit/s)
				01 - 1000 kbit/s (250 kbit/s)
				10 - 500 kbit/s (125 kbit/s)
				11 - 250 kbit/s (62.5 kbit/s)
	биты 24 - 27	уровень приема (0 - 15).
	биты 0  - 23	три последних байта MAC адреса (первые три байта
			всегда равны 00:ff:01).

5. Соберите и установите новое ядро.

Параметры адаптера можно изменять во время работы с помощью утилиты
sbniconfig:

sbniconfig sbniX
	- просмотр текущих параметров адаптера sbniX

sbniconfig sbniX flags
	- установка параметров адаптера sbniX (параметр flags имеет тот же
	  формат, что и соответствующий параметр в файле конфигурации ядра)

sbniconfig sbniX baud rxl
	- установка скорости и уровня приема адаптера sbniX. Возможные
	  значения параметра baud: 2000, 1000, 500, 250, 125, 62.5 (значения
	  62.5 и 125 могут быть установлены только если адаптер находится
	  в медленном режиме, значения 1000 и 2000 - в быстром).
	  Возможные значения для параметра rxl: 0 - 15, auto.

Последнюю версию OpenBSD драйвера можно найти здесь:

	ftp://ftp.openbsd.ru/pub/OpenBSD/local/drivers/sbni/

Замечания и предложения можно отправлять по адресу form@openbsd.ru

---
$RuOBSD: INSTALL,v 1.4 2002/07/15 07:40:54 form Exp $
