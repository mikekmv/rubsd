$RuOBSD$
--- src/channel.c.orig	Mon Oct 17 03:50:37 2005
+++ src/channel.c	Mon Oct 17 03:50:40 2005
@@ -246,7 +246,7 @@ send_mode_list(struct Client *client_p, 
   char pbuf[BUFSIZE];
   int tlen, mlen, cur_len;
   int count = 0;
-  char *mp, *pp = pbuf;
+  char *mp = NULL, *pp = pbuf;
 
   if (top == NULL || top->length == 0)
     return;
