$RuOBSD$
--- tools/viconf.c.orig	Mon Oct 17 03:32:18 2005
+++ tools/viconf.c	Mon Oct 17 03:32:54 2005
@@ -95,7 +95,11 @@ LockedFile(const char *filename)
   if (filename == NULL)
     return(0);
 
+#ifdef HAVE_SNPRINTF
+  snprintf(lockpath, sizeof(lockpath), "%s.lock", filename);
+#else
   sprintf(lockpath, "%s.lock", filename);
+#endif
 
   if ((fileptr = fopen(lockpath, "r")) != NULL)
   {
