$RuOBSD$
--- gemulator.c.orig	Tue Apr 30 14:44:23 2002
+++ gemulator.c	Tue Apr 30 14:44:28 2002
@@ -8,14 +8,24 @@
  * If this code fails, try adding defining SLOW_IO, and see how that works.
  */
 
+#define REMOVE_GEMULATOR_SUPPORT  // I'm not even trying to port this
+				  // support in, and most people don't use
+				  // it.  If you have gotten it to work,
+				  // send a diff to me
+				  // (troll@digitalspark.net)
+
 #define SLOW_IO
 
 #include <stdio.h>
+#ifndef REMOVE_GEMULATOR_SUPPORT
 #include <asm/io.h>
+#endif
 #include <unistd.h>
 #include <errno.h>
 #include <string.h>
+#ifndef REMOVE_GEMULATOR_SUPPORT
 #include <sys/io.h>
+#endif
 
 /* Define TEST to make a linkable ROM dumper */
 #ifdef TEST
@@ -55,6 +65,7 @@ unsigned char bigbuf[cbSocket*countSocke
 
 int Gemulator_LoadROM(UBYTE * NewROM, UWORD Base, UBYTE Socket, UBYTE Length)
 {
+#ifndef REMOVE_GEMULATOR_SUPPORT
 	int i;
 	int rgsize[countSocket];
 
@@ -110,6 +121,7 @@ int Gemulator_LoadROM(UBYTE * NewROM, UW
 	memcpy(NewROM, bigbuf, 1024 * rgsize[Socket] * Length);
 
 	return(1024 * rgsize[Socket] * Length); //Return size
+#endif
 }
 
 #ifdef TEST
@@ -138,4 +150,3 @@ int main(int argc, char **argv)
 	return 0;
 }
 #endif
-	
