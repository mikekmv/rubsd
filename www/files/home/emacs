;; $RuOBSD: emacs,v 1.13 2008/08/19 01:46:38 mkb Exp $
;;

;; Руссификация
;;
(set-language-environment "Cyrillic-KOI8")
(set-terminal-coding-system 'koi8-r)
(set-keyboard-coding-system 'koi8-r)

;; Отключение меню
;;
(menu-bar-mode nil)

;; Не создавать backup файлов
;;
(setq auto-save-default nil)
(setq backup-inhibited t)
(setq make-backup-files nil)

;; Не показывать splash screen при загрузке
;;
(setq inhibit-startup-message t)

;; Подсвечивать парные скобки
;;
(show-paren-mode 1)

;; Показывать позицию курсора в статусной строке
;;
(column-number-mode 1)

;; Использовать форматирование в стиле BSD
;;
(setq c-mode-hook (lambda nil (c-set-style "bsd")))
(setq indent-tabs-mode t)
(setq-default indent-tabs-mode t)
(setq default-tab-width 8)
(setq tab-width 8)
(setq c-basic-indent 8)
(setq c-basic-offset 8)
(setq c-backspace-function (quote backward-delete-char))

;; Автоматически переходить в mail-mode если вызван из mutt
;;
(add-to-list 'auto-mode-alist '("/mutt" . mail-mode))

;; Настройки ediff
;;
(setq ediff-diff-options "-a")
(setq ediff-use-last-dir t)
;; Игнорировать пробелы и символы переноса строк при сравнении
;;(setq ediff-ignore-similar-regions t)

;; Настройка горячих клавиш
;;
;; C-n дополняет слово
(global-set-key "\C-n" 'dabbrev-expand)
;; Вставлять символ табуляции при нажатии Tab
(global-set-key (kbd "TAB") 'self-insert-command)
;; Где-то DEL генерировал последовательность ^D...
(global-set-key "\C-d" 'delete-char)
;; Еще где-то (Sun?) Del генерирует ^H...
(global-set-key "\C-h" 'backward-delete-char)
;; Home/End в SecureCRT...
(global-set-key (kbd "<home>") 'beginning-of-line)
(global-set-key (kbd "<select>") 'end-of-line)
;; Home/End в dtterm (Sun)...
(global-set-key "\M-[\h" 'beginning-of-line)
(global-set-key "\M-[\F" 'end-of-line)

;; Настройка выделения
;;
(transient-mark-mode 1)

;; Включить раскраску
;;
(global-font-lock-mode t)

;; Настройки шрифтов
;;
(custom-set-faces
  ;; custom-set-faces was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
 '(custom-button-face ((t (:foreground "cyan"))) t)
 '(diff-added-face ((t (:foreground "cyan"))))
 '(diff-context-face ((t (:foreground "white"))))
 '(diff-removed-face ((t (:foreground "red"))))
 '(ediff-even-diff-face-Ancestor ((t (:foreground "white"))))
 '(ediff-even-diff-face-B ((t (:foreground "white"))))
 '(ediff-odd-diff-face-A ((t (:foreground "white"))))
 '(ediff-odd-diff-face-B ((t (:foreground "white"))))
 '(ediff-odd-diff-face-C ((t (:foreground "white"))))
 '(font-lock-builtin-face ((t (:foreground "magenta"))))
 '(font-lock-comment-delimiter-face ((t (:foreground "cyan"))))
 '(font-lock-comment-face ((t (:foreground "cyan"))))
 '(font-lock-constant-face ((t (:foreground "white"))))
 '(font-lock-function-name-face ((t (:foreground "white"))))
 '(font-lock-keyword-face ((t (:foreground "green"))))
 '(fringe ((t (:background unspecified))))
 '(lazy-highlight ((t (:background "blue"))))
 '(minibuffer-prompt ((t (:foreground "white"))))
 '(mouse ((t (:background "white"))))
 '(widget-field-face ((t (:foreground "black"))) t))

;; Прочие настройки
;;
(custom-set-variables
  ;; custom-set-variables was added by Custom.
  ;; If you edit it by hand, you could mess it up, so be careful.
  ;; Your init file should contain only one such instance.
  ;; If there is more than one, they won't work right.
)
