<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
  <META HTTP-EQUIV="Content-Language" CONTENT="ru">
  <META NAME="copyright" CONTENT="Copyright (c) 2005-2006 by OpenBSD.ru">
  <TITLE>OpenBSD: Сборка дистрибутива</TITLE>
  <LINK REL="stylesheet" HREF="css/style.css" TYPE="text/css">
</HEAD>
<BODY bgcolor="#ffffff" text="#000000" link="#23238e">

<H2><FONT COLOR="#e00000">OpenBSD: Сборка дистрибутива</FONT></H2>
<HR>

<H3><FONT COLOR="#0000e0">Мини-руководство "шаг за шагом"</FONT></H3>

<P>
<TABLE BORDER="0">
<TR>
<TD>
В первую очередь пересобираем программы
<A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchgen&amp;sektion=1">
crunchgen(1)</A> и
<A HREF="http://www.openbsd.org/cgi-bin/man.cgi?query=crunchhide&amp;sektion=1">
crunchide(1).</A>
<I>Данный шаг не требуется для OpenBSD &gt; 4.4</I>.

<PRE>
# <STRONG>cd /usr/src/distrib/crunch</STRONG>
# <STRONG>make obj</STRONG>
# <STRONG>make depend</STRONG>
# <STRONG>make</STRONG>
# <STRONG>make install</STRONG>
</PRE>

С помощью переменных окружения указываем абсолютные пути до каталогов:

<PRE>
# <STRONG>export DESTDIR=/home/openbsd/dest</STRONG>
# <STRONG>export RELEASEDIR=/home/openbsd/release</STRONG>
</PRE>

Создаем необходимые директории:

<PRE>
# <STRONG>mkdir -p ${DESTDIR} ${RELEASEDIR}</STRONG>
</PRE>

Переходим в каталог <FONT COLOR="#008000">/usr/src/etc</FONT> и выполняем
сборку дистрибутива:

<PRE>
# <STRONG>cd /usr/src/etc &amp;&amp; make release</STRONG>
</PRE>

Шаг с проверкой полученного списка файлов является необязательным:

<PRE>
# <STRONG>cd /usr/src/distrib/sets && sh checkflist</STRONG>
</PRE>

При необходимости указанные переменные окружения можно удалить:

<PRE>
# <STRONG>unset DESTDIR RELEASEDIR CVSROOT</STRONG>
</PRE>

Смотрите также по данной теме пошаговое <A HREF="burncd.html">
руководство</A>, в котором рассматривается процесс создания дистрибутивного CD.

</TD>
</TR>
</TABLE>

<P>
<HR>
<A HREF="index.html"><IMG HEIGHT="24" WIDTH="24" SRC="../../images/back.gif"
 BORDER="0" ALT="OpenBSD.ru"></A>
<A HREF="mailto:www@openbsd.ru">www@openbsd.ru</A>
<BR>
<SMALL>$RuOBSD: release.html,v 1.19 2007/11/12 15:59:28 mkb Exp $</SMALL>

</BODY>
</HTML>
