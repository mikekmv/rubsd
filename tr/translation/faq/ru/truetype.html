<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
<title>Antialiasing и TrueType шрифты в OpenBSD</title>
<link rev="made" href="www@OpenBSD.org>
<meta name= "resource-type" content= "document">
<meta name= "description"   content= "the OpenBSD FAQ page">
<meta name= "keywords"      content= "openbsd,faq,antialiasing,truetype,fonts,XFree86,XF4">
<meta name= "distribution"  content= "global">
<meta name= "copyright"     content= "This document copyright 2001-2003 by OpenBSD.">
</head>

<body bgcolor= "#ffffff" text= "#000000" link= "#23238E">
<img alt="[OpenBSD]" height=30 width=141 src="../../images/smalltitle.gif">

<h1>Antialiasing и TrueType шрифты в OpenBSD</h1>

<p>
<ul><h3>Содержание</h3>
<li><a href="truetype.html#xterm">Скриншот xterm</a></li>
<li><a href= "truetype.html#konqueror">Скриншот konqueror</a></li>
<li><a href= "truetype.html#work">Что для этого требуется?</a></li>
<li><a href= "truetype.html#applications">Какие приложения могут этим
пользоваться?</a></li>
</ul>
</p>
<hr>

<p>
<a name= "xterm"></a>
<h2>Скриншот xterm</h2>
xterm с aliased и antialiased шрифтами:
<br>

<div align="center"><img src="../images/xterm_diff.jpg" alt="standard and antialiased xterm"></div>

<p>
<a name= "konqueror"></a>
<h2>Скриншот konqueror</h2>
Все еще не поняли для чего это?
Взгляните на это:
<br>

konqueror с aliased и antialiased шрифтами:
<br>
<img src="../images/konqueror_diff.jpg" alt="standard and antialiased konqueror">


<p>
<a name= "work"></a>
<h2>Что для этого требуется?</h2>

OpenBSD поставляется с XFree86 4 в котором содержится Xft Render
Extensions. Для того чтобы его использовать, ваш X сервер (драйвер видео
карты) должен поддерживать его. Некоторые драйвера не были переписаны с
кодом 'fb' и поэтому не могут использовать это расширение.
<br>

Проверим командой:
<br>
<ul>
<table border=0 width="80%">
	<tr>
			<td nowrap bgcolor="#EEEEEE">
			<b>$ /usr/X11R6/bin/xdpyinfo | grep RENDER</b><br>
			RENDER
			</td>
	</tr>
</table>	
</ul>
Если вы не увидите слово RENDER, вам придется подождать, пока кто-нибудь
создаст поддержку этого расширения для вашей видео карты.

<p>
Следующий шаг - установить TrueType шрифты. Автор Xft Render Extensions,
Keith Packard, создал пакет TrueType шрифтов:
</p>
<p>
<cite>"Я нашел небольшое количество бесплатных truetype шрифтов от наших
друзей из Redmond. Я создал архив всех этих шрифтов (включая times, arial,
comic, courier, georgia, impact, trebuchet, verdana и webdings) вместе с
fonts.scale и XftConfig файлами; вы можете получить этот архив с ..."</cite>

        <div align="center"><a href="http://keithp.com/~keithp/truetype.tar.gz">http://keithp.com/~keithp/truetype.tar.gz</a></div>
<br>
Или напрямую (шрифт за шрифтом, и без <code>fonts.dir</code>):
        <div align="center"><a href="http://www.microsoft.com/typography/fontpack/default.htm">http://www.microsoft.com/typography/fontpack/default.htm</a></div>
</p>
<br>

Далее, распакуйте шрифты в <code>/usr/X11R6/lib/X11/fonts</code>:
<br>
<ul>
<table border=0 width="80%">
	<tr>
			<td nowrap bgcolor="#EEEEEE">
			<b># cd /usr/X11R6/lib/X11/fonts<br>
			# tar xzf ~/truetype.tar.gz</b><br>
			</td>
	</tr>
</table>	
</ul>

Вам так же надо отредактировать <code>/usr/X11R6/lib/X11/XftConfig</code>
добавив
<br>
<pre>
	dir "/usr/X11R6/lib/X11/fonts/truetype"
</pre>

сразу же, после строки <code>dir "/usr/X11R6/lib/X11/fonts/Type1"</code>.
<br>


<p>
<a name= "applications"></a>
<h2>Какие приложения могут этим пользоваться?</h2>
xterm, xditview, и все приложения использующие QT (т.е. все KDE2 приложения).

<p>
<li><h3>xterm</h3>
Запускается с:
<ul>
<table border=0 width="80%">
	<tr>
		<td nowrap bgcolor="#EEEEEE">
			<b>$ xterm -fa 'Andale Mono' -fs 14</b><br>
		</td>
		<td nowrap>
			<code>опция: &nbsp; ресурс: &nbsp; значение </code> <br>
			&nbsp;<code>-fa  &nbsp;&nbsp;&nbsp; *faceName</code> &nbsp;&nbsp; Имя шрифта <br>
			&nbsp;<code>-fs  &nbsp;&nbsp;&nbsp; *faceSize</code> &nbsp;&nbsp; Размер шрифта <br>
		</td>
	</tr>
</table>	
</ul>

Другие TrueType шрифты (Arial, Georgia, Verdana, ...) плохо работают в
xterm. xterm режет 1 pixel символа, так как не может работать со знаками
которые больше его ячейки.
</li>
</p>

<p>
<li><h3>QT2/KDE2 приложения</h3>
Чтобы запустить QT2/KDE2 приложения, например бровзер konqueror, нужно
установить всего <b>одну</b> переменную окружения:
<br>
Запустите приложение с переменной окружения <code>QT_XFT</code>
установленной в true:
<ul>
<table border=0 width="800">
	<tr>
			<td nowrap bgcolor="#EEEEEE">
			<b>$ env QT_XFT=true konqueror</b><br>
			</td>
	</tr>
</table>	
</ul>
или для kdbg:
<ul>
<table border=0 width="800">
	<tr>
			<td nowrap bgcolor="#EEEEEE">
			<b>$ env QT_XFT=true kdbg</b><br>
			</td>
	</tr>
</table>	
</ul>

все.
</li>
</p>

<p>
<hr>
<a href= "../index.html"><img height= "24" width= "24" src= "../../images/back.gif" border= "0" alt= "[back]"></a>
<a href= "mailto:www@openbsd.org">www@openbsd.org</a>
<br>
<small>
Originally [OpenBSD: truetype.html,v 1.3 ]<br>
$Translation$<br>
$OpenBSD$
</small>
</p>
</body>
</html>
